#! ruby

lib = File.expand_path(File.dirname(__FILE__) + '/../lib')
$LOAD_PATH.unshift(lib) if File.directory? lib && !$LOAD_PATH.include? lib

require 'thor'
require 'rigrate'

class RigrateApp < Thor
  desc 'execute', 'execute a task.'
  method_option :file, :aliases  => '-f',
                       :type     => :string,
                       :desc     => 'script file path.'
  def execute
    file = options[:file]
    opts = {}

    Rigrate.run(file, opts)
  end
end

RigrateApp.start